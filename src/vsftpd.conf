#
# For additional options regarding this configuration file,
# refer to the following documentation:
# https://manpages.ubuntu.com/manpages/trusty/en/man5/vsftpd.conf.5.html
#

# If enabled, vsftpd will run in standalone mode.
# This means that vsftpd itself will then take care of listening for incoming connections.
listen=YES

# If enabled, vsftpd will listen on an IPv6 socket instead of an IPv4 one.
# This parameter and the 'listen' parameter are mutually exclusive.
listen_ipv6=NO

# Controls whether local logins are permitted or not.
# If enabled, normal user accounts in '/etc/passwd' may be used to log in.
# This must be enable for any non-anonymous login to work, including virtual users.
local_enable=YES

# Controls whether any FTP commands which change the filesystem are allowed.
# These commands are: STOR, DELE, RNFR, RNTO, MKD, RMD, APPE, and SITE.
write_enable=YES

# Controls the sandboxing secure option based on seccomp.
# If enabled, it may generate random fatal errors in many kernel versions.
seccomp_sandbox=NO

# If enabled, all user and group in directory listings will be displayed as "ftp".
hide_ids=YES

# The maximum number of clients which may be connected.
# Any additional clients connecting will get an error message.
max_clients=0

# The max number of clients which may be connected from the same IP.
# A client will get an error message if they go over this limit.
max_per_ip=0

# Allow chroot()'ing a user to a writable directory.
# Note: Setting this to YES is potentially dangerous.
# Users could potentially manipulate system configurations.
#allow_writeable_chroot=YES


# ---------------------------- ANONYMOUS USERS ---------------------------- #

# Controls whether anonymous logins are permitted or not.
# If enabled, usernames 'ftp' and 'anonymous' are recognised as anonymous logins.
anonymous_enable=YES

# This is the name of the user we use for handling anonymous FTP.
# The home directory of this user is the root of the anonymous FTP area.
ftp_username=q-ftp

# The max transfer rate permitted, in bytes per second, for anonymous clients.
anon_max_rate=0


# ----------------------------- VIRTUAL USERS ----------------------------- #

# If enabled, all non-anonymous logins are classed as "guest" logins.
# A guest login is remapped to the user specified in the guest_username setting.
guest_enable=NO

# This setting is the real username which guest users are mapped to.
guest_username=q-ftp

# If enabled, virtual users will use the same privileges as local users. 
# By default, virtual users will use the same privileges as anonymous users.
virtual_use_local_privs=YES

## It is used to automatically generate a home directory for each virtual user, based on a template. 
#user_sub_token=$USER
#local_root=/home/ftp/$USER


# --------------------------------- PASV ---------------------------------- #

# Enable or disable the PASV method of obtaining a data connection.
pasv_enable=YES

# Enable or disable the PORT method of obtaining a data connection.
port_enable=NO

# Specify the minimum port for passive mode data connections.
pasv_min_port=21000

# Specify the maximum port for passive mode data connections.
pasv_max_port=21007

# Set the timeout, in seconds, for a client to establish a PASV style data connection.
accept_timeout=60


# -------------------------------- LOGGING -------------------------------- #

# If enabled, a log file will be maintained detailing uploads and downloads.
xferlog_enable=YES

# If enabled, all FTP requests and responses are logged for debugging purposes.
log_ftp_protocol=YES

# Specifies the filename for the vsftpd-style log file.
# This log file will be written if either of the following conditions is met:
#   * If 'xferlog_enable=YES' and 'xferlog_std_format=NO'.
#   * If 'dual_log_enable=YES'.
# It will NOT be written if 'syslog_enable=YES'; in such case, the output
# is sent to the system log under the FTPD facility.
vsftpd_log_file=/var/log/vsftpd.log

## In case you desire two log files in parallel, the configuration should be:
#   > dual_log_enable=YES
#   > vsftpd_log_file=/var/log/vsftpd.log
#   > xferlog_file=/var/log/xferlog

